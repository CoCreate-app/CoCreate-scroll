!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CoCreate=e():(t.CoCreate=t.CoCreate||{},t.CoCreate.scroll=e())}(this,(function(){return(()=>{"use strict";var t={366:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i}),window.profiler={},window.counter=0,window.counter2=0,window.targets={},window.attributeName={},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1});const o={initTasks:new Map,attrTasks:new Map,rules:new Map,rulesArray:[],__init:function(){const t=this;new MutationObserver(((e,r)=>t.__callback(e,r))).observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!1,attributeOldValue:!0,characterData:!0})},init:function({observe:t,include:e,exclude:r,attributes:o,name:i,callback:l}){t.some((t=>"childList"==t))&&this.initTasks.set(l,{observe:t,include:e,exclude:r,attributes:o,name:i}),t.some((t=>"attributes"==t))&&this.attrTasks.set(l,{observe:t,include:e,exclude:r,attributes:o,name:i})},remove:function(t){this.initTasks.delete(t),this.attrTasks.delete(t)},addRule:function({include:t,exclude:e,name:r}){this.rules.set(r,{include:t,exclude:e}),this.rulesArray=Array.from(this.rules)},removeRule:function({name:t}){this.rules.delete(t),this.rulesArray=Array.from(this.rules)},__callback:function(t,e){window.counter++;for(let e of t)"childList"==e.type&&e.addedNodes.length>0&&this.__initCallback(e),"attributes"==e.type&&this.__attrCallback(e)},__initCallback:function(t){Array.from(t.addedNodes);this.initTasks.forEach((({observe:e,include:r,exclude:o,attributes:i,name:l},a)=>{t.addedNodes.forEach((e=>{e.tagName&&(!r||e.matches(r)||e.querySelector(r))&&(o&&(e.matches(o)||e.querySelector(o))||a.apply(null,[{type:t.type,target:e}]))}))}))},__attrCallback:function(t){for(let[e,{include:r,exclude:o}]of this.rulesArray){if(r&&!t.target.matches(r))return;if(o&&t.target.matches(o))return}this.attrTasks.forEach((({observe:e,include:r,exclude:o,attributes:i,name:l},a)=>{if((!i||!t.attributeName||i.includes(t.attributeName))&&(!r||t.target.matches(r))&&(!o||!t.target.matches(o))&&t.attributeName){t.target.getAttribute(t.attributeName)!=t.oldValue&&a.apply(null,[t])}}))},setInitialized:function(t,e){t["co_initialized_"+(e=e||"")]=!0},getInitialized:function(t,e){return!!t["co_initialized_"+(e=e||"")]}};o.__init();const i=o}},e={};function r(o){var i=e[o];if(void 0!==i)return i.exports;var l=e[o]={exports:{}};return t[o](l,l.exports,r),l.exports}r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{var t=o;t.default=void 0;var e,i=(e=r(366))&&e.__esModule?e:{default:e};const l={delta:3,observer:null,init:function(){this.__initIntersectionObserver(),this.initElement(document)},initElement:function(t){let e=t||document;const r=this;if(!e.querySelectorAll)return;let o=e.querySelectorAll("[data-scroll]");0===o.length&&e!=document&&e.hasAttributes("[data-scroll]")&&(o=[e]),o.forEach((t=>r.__initElementEvent(t)))},__initElementEvent:function(t){const e=this,r=this.__getSize(t.dataset.scroll_up),o=this.__getSize(t.dataset.scroll_down),i=t.dataset.scroll_attribute||"class",l=t.dataset.scroll_target,a=t.dataset.scroll_intersect;let s=t.getAttribute("data-scroll")||"";s=s.split(",").map((t=>t.trim()));let n={attrName:i,values:s,upSize:r,downSize:o,scrollTop:t.dataset.scroll_top,scrollBottom:t.dataset.scroll_bottom,scrolling:t.dataset.scrolling},u=[t];l&&(u=document.querySelectorAll(l)),u.forEach((t=>{t.scrollStatus={currentPos:0}}));let c=null;window.addEventListener("scroll",(function(r){t.scrollStatus&&(Math.abs(window.scrollY-t.scrollStatus.currentPos)<=e.delta||(null!=c&&clearTimeout(c),u.forEach((t=>{e.__runScrollEvent(t,n),e.__setScrolling(t,n,!1)})),c=setTimeout((function(){u.forEach((t=>{e.__setScrolling(t,n,!0)}))}),500)))})),a&&window.IntersectionObserver&&this.observer&&this.observer.observe(t)},__initIntersectionObserver:function(){const t=this;this.observer=new IntersectionObserver((e=>{e.forEach((e=>{let r=e.target;const o=r.dataset.scroll_attribute||"class",i=r.dataset.scroll_target,l=r.dataset.scroll_intersect;let a=[r];i&&(a=document.querySelectorAll(i)),e.isIntersecting>0?a.forEach((e=>t.__addAttributeValue(e,o,l))):a.forEach((e=>t.__removeAttrbuteValue(e,o,l)))}))}))},__setScrolling:function(t,e,r=!1){const{scrolling:o,attrName:i}=e;r?this.__removeAttrbuteValue(t,i,o):this.__addAttributeValue(t,i,o)},__runScrollEvent:function(t,e){const r=t.scrollStatus.currentPos,o=window.scrollY,{upSize:i,downSize:l,attrName:a,values:s,scrollTop:n,scrollBottom:u}=e;i<r-o?(this.__addAttributeValue(t,a,s[0]),this.__removeAttrbuteValue(t,a,s[1])):l<o-r&&(this.__removeAttrbuteValue(t,a,s[0]),this.__addAttributeValue(t,a,s[1])),o<=this.delta?(this.__removeAttrbuteValue(t,a,s[0]),this.__removeAttrbuteValue(t,a,s[1]),this.__addAttributeValue(t,a,n)):this.__removeAttrbuteValue(t,a,n),window.innerHeight+o>=document.body.scrollHeight-this.delta?this.__addAttributeValue(t,a,u):this.__removeAttrbuteValue(t,a,u),t.scrollStatus.currentPos=o},__addAttributeValue:function(t,e,r){if(!r)return;let o=new RegExp("(\\s|^)"+r+"(\\s|$)"),i=t.getAttribute(e)||"";o.test(i)||(i+=" "+r,t.setAttribute(e,i))},__removeAttrbuteValue:function(t,e,r){if(!r)return;let o=new RegExp("(\\s|^)"+r+"(\\s|$)"),i=t.getAttribute(e)||"";o.test(i)&&(i=i.replace(o," ").trim(),t.setAttribute(e,i))},__getSize:function(t,e){let r=0;return t?(t.includes("%")?(r=t.replace("%","").trim(),r=Number(r)||0,r=e?window.innerWidth/r:window.innerHeight/r):(r=t.replace("px","").trim(),r=Number(r)||0),r):0}};l.init(),i.default.init({name:"CoCreateScrollCreate",observe:["subtree","childList"],include:"[data-scroll]",callback:function(t){l.initElement(t.target)}});var a=l;t.default=a})(),o=o.default})()}));