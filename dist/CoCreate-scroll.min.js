!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CoCreate=e():(t.CoCreate=t.CoCreate||{},t.CoCreate.scroll=e())}(this,(function(){return(()=>{"use strict";var t={366:(t,e,a)=>{function r(t){this.callbackMap=new Map,this.callbackMap.set("ALL",{attributes:[],addedNodes:[],removedNodes:[],characterData:[],childList:[]});let[e,a]=this.runCallbackGen("attributes");this.runCallbackAtt=e,this.runCallbackAttAll=a,[e,a]=this.runCallbackGen("characterData"),this.runCallbackChar=e,this.runCallbackCharAll=a,this.runCallbackAdd=this.runCallbackExGen("addedNodes","addedNodes"),this.runCallbackRemove=this.runCallbackExGen("removedNodes","removedNodes");new MutationObserver((t=>this._callback.call(this,t))).observe(t,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0})}a.r(e),a.d(e,{default:()=>i}),window.counter=0;const l=["addedNodes","removedNodes","attributes","characterData","childList"];r.prototype.init=function({observe:t=["addedNodes","attributes"],attributeFilter:e,callback:a}){if(!t||!t.every((t=>l.includes(t))))throw"please enter a valid observe";if(this.observe=t,this.callback=a,e&&e.length)for(let t of e)this._register(t.toLowerCase());else this._register("ALL")},r.prototype._register=function(t){for(let e of this.observe)"childList"!==e?this.callbackMap.has(t)?this.callbackMap.get(t)[e]?this.callbackMap.get(t)[e].push(this.callback):this.callbackMap.get(t)[e]=[this.callback]:this.callbackMap.set(t,{[e]:[this.callback]}):this.callbackMap.get("ALL").childList&&this.callbackMap.get("ALL").childList.push(this.callback)},r.prototype.uninit=function(t){for(let[e,a]of this.callbackMap.entries())a.attributes&&(a.attributes=a.attributes.filter((e=>e!==t))),a.characterData&&(a.characterData=a.characterData.filter((e=>e!==t))),a.addedNodes&&(a.addedNodes=a.addedNodes.filter((e=>e!==t))),a.removedNodes&&(a.removedNodes=a.removedNodes.filter((e=>e!==t))),a.childList&&(a.childList=a.childList.filter((e=>e!==t))),this.callbackMap.set(e,{attributes:a.attributes,characterData:a.characterData,addedNodes:a.addedNodes,removedNodes:a.removedNodes,childList:a.childList})},r.prototype._callback=function(t){for(let e of t)switch(window.counter++,e.type){case"attributes":this._attributeCallback(e);break;case"characterData":this._characterDataCallback(e);break;case"childList":this._childListCallback(e)}},r.prototype.runCallbackGen=function(t){return[function(e,a){let r=this.callbackMap.get(a);if(r&&r[t])for(let a of r[t])a(e)},function(e){for(let a of this.callbackMap.get("ALL")[t])a(e)}]},r.prototype._attributeCallback=function(t){if(!t.target.hasAttributes(t.attributeName))return;t.target.getAttribute(t.attributeName)!==t.oldValue&&(this.runCallbackAtt(t,t.attributeName),this.runCallbackAttAll(t))},r.prototype._characterDataCallback=function(t){if(t.target.data===t.oldValue)return;this.runCallbackCharAll(t);let e=t.target.parentElement;for(let a of e.attributes)this.runCallbackChar(t,a.name)},r.prototype.runCallbackExGen=function(t,e){return function a(r){for(let l of r[e]){if(l.tagName)for(let e of l.attributes){let a=this.callbackMap.get(e.name);if(a&&a[t])for(let e of a[t])e({type:r.type,target:l,[t]:!0})}l.children&&a.call(this,{[e]:l.children})}for(let a of this.callbackMap.get("ALL")[t])for(let l of r[e])l.tagName&&a({type:r.type,target:l,[t]:!0})}},r.prototype._childList=function(t){this.callbackMap.get("ALL").childList.forEach((e=>{e(t)}))},r.prototype._childListCallback=function(t){this._childList(t),this.runCallbackAdd(t),this.runCallbackRemove(t)},r.prototype.setInitialized=function(t,e){t["co_initialized_"+(e=e||"")]=!0},r.prototype.getInitialized=function(t,e){return!!t["co_initialized_"+(e=e||"")]};const i=new r(document.body)}},e={};function a(r){var l=e[r];if(void 0!==l)return l.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,a),i.exports}a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{var t=r;t.default=void 0;var e,l=(e=a(366))&&e.__esModule?e:{default:e};const i={delta:3,observer:null,init:function(){this.__initIntersectionObserver(),this.initElement(document)},initElement:function(t){let e=t||document;const a=this;if(!e.querySelectorAll)return;let r=e.querySelectorAll("[data-scroll]");0===r.length&&e!=document&&e.hasAttributes("[data-scroll]")&&(r=[e]),r.forEach((t=>a.__initElementEvent(t)))},__initElementEvent:function(t){const e=this,a=this.__getSize(t.dataset.scroll_up),r=this.__getSize(t.dataset.scroll_down),l=t.dataset.scroll_attribute||"class",i=t.dataset.scroll_target,o=t.dataset.scroll_intersect;let s=t.getAttribute("data-scroll")||"";s=s.split(",").map((t=>t.trim()));let c={attrName:l,values:s,upSize:a,downSize:r,scrollTop:t.dataset.scroll_top,scrollBottom:t.dataset.scroll_bottom,scrolling:t.dataset.scrolling},n=[t];i&&(n=document.querySelectorAll(i)),n.forEach((t=>{t.scrollStatus={currentPos:0}}));let u=null;window.addEventListener("scroll",(function(a){t.scrollStatus&&(Math.abs(window.scrollY-t.scrollStatus.currentPos)<=e.delta||(null!=u&&clearTimeout(u),n.forEach((t=>{e.__runScrollEvent(t,c),e.__setScrolling(t,c,!1)})),u=setTimeout((function(){n.forEach((t=>{e.__setScrolling(t,c,!0)}))}),500)))})),o&&window.IntersectionObserver&&this.observer&&this.observer.observe(t)},__initIntersectionObserver:function(){const t=this;this.observer=new IntersectionObserver((e=>{e.forEach((e=>{let a=e.target;const r=a.dataset.scroll_attribute||"class",l=a.dataset.scroll_target,i=a.dataset.scroll_intersect;let o=[a];l&&(o=document.querySelectorAll(l)),e.isIntersecting>0?o.forEach((e=>t.__addAttributeValue(e,r,i))):o.forEach((e=>t.__removeAttrbuteValue(e,r,i)))}))}))},__setScrolling:function(t,e,a=!1){const{scrolling:r,attrName:l}=e;a?this.__removeAttrbuteValue(t,l,r):this.__addAttributeValue(t,l,r)},__runScrollEvent:function(t,e){const a=t.scrollStatus.currentPos,r=window.scrollY,{upSize:l,downSize:i,attrName:o,values:s,scrollTop:c,scrollBottom:n}=e;l<a-r?(this.__addAttributeValue(t,o,s[0]),this.__removeAttrbuteValue(t,o,s[1])):i<r-a&&(this.__removeAttrbuteValue(t,o,s[0]),this.__addAttributeValue(t,o,s[1])),r<=this.delta?(this.__removeAttrbuteValue(t,o,s[0]),this.__removeAttrbuteValue(t,o,s[1]),this.__addAttributeValue(t,o,c)):this.__removeAttrbuteValue(t,o,c),window.innerHeight+r>=document.body.scrollHeight-this.delta?this.__addAttributeValue(t,o,n):this.__removeAttrbuteValue(t,o,n),t.scrollStatus.currentPos=r},__addAttributeValue:function(t,e,a){if(!a)return;let r=new RegExp("(\\s|^)"+a+"(\\s|$)"),l=t.getAttribute(e)||"";r.test(l)||(l+=" "+a,t.setAttribute(e,l))},__removeAttrbuteValue:function(t,e,a){if(!a)return;let r=new RegExp("(\\s|^)"+a+"(\\s|$)"),l=t.getAttribute(e)||"";r.test(l)&&(l=l.replace(r," ").trim(),t.setAttribute(e,l))},__getSize:function(t,e){let a=0;return t?(t.includes("%")?(a=t.replace("%","").trim(),a=Number(a)||0,a=e?window.innerWidth/a:window.innerHeight/a):(a=t.replace("px","").trim(),a=Number(a)||0),a):0}};i.init(),l.default.init({name:"CoCreateScrollCreate",observe:["addedNodes"],attributeFilter:["data-scroll"],callback:function(t){i.initElement(t.target)}});var o=i;t.default=o})(),r=r.default})()}));